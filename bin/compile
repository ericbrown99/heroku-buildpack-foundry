# Output messages to the user
echo "-----> Installing Foundry"

# Install Foundry without using apt-get
curl -L https://foundry.paradigm.xyz | bash

# Add Foundry to PATH
export PATH="$HOME/.foundry/bin:$PATH"

# Check if the foundry directory exists
if [ ! -d "$HOME/.foundry/bin" ]; then
  mkdir -p $HOME/.foundry/bin
fi

# Download foundryup to a temporary file
curl -L https://foundry.paradigm.xyz/foundryup -o /tmp/foundryup

# Check if the file is in gzip format
file /tmp/foundryup

# List the contents of the temporary directory
ls -l /tmp

# Attempt to extract the file
tar -xzC $HOME/.foundry/bin -f /tmp/foundryup

# Verify the installation
if [ $? -ne 0 ]; then
  echo "Error: Foundry installation failed"
  exit 1
else
  echo "Foundry installation completed successfully"
fi
